# FramePack-eichi 使用指南 | [日本語](README_userguide.md) | [English](README_userguide_en.md) | [Русский](README_userguide_ru.md)

本指南詳細介紹了FramePack-eichi標準版和F1版的使用方法。這兩個版本各有不同的特點和用途，請根據您的目的選擇最適合的模型。有關基本信息和安裝方法，請參閱[README](README_zh.md)；有關詳細設置，請參閱[擴充文檔](README_column_zh.md)；更新歷史請參閱[更新日誌](README_changelog.md)。

## 目錄

- [什麼是FramePack-eichi](#什麼是framepack-eichi)
- [標準版與F1版的區別](#標準版與f1版的區別)
- [標準版的使用方法](#標準版的使用方法)
- [F1版的使用方法](#f1版的使用方法)
- [oichi版（單幀版）的使用方法](#oichi版單幀版的使用方法)
- [各設置項目的詳細說明](#各設置項目的詳細說明)
- [故障排除](#故障排除)

## 什麼是FramePack-eichi

FramePack-eichi是一款從圖像生成視頻的AI工具。它實現了傳統圖像生成AI無法表達的「動作」。您可以從靜態圖像生成短時間視頻，或基於多個關鍵幀創建動畫。

此工具有兩個版本：

1. **標準版 (Standard)**: 專注於關鍵幀控制的模型
2. **F1版 (F1)**: 專注於正向生成的模型

## 標準版與F1版的區別

|功能|標準版 (Standard)|F1版 (F1)|
|---|---|---|
|**基本概念**|通過關鍵幀控制精確指定動作|通過正向生成產生自然活潑的動作|
|**關鍵幀**|可以指定多個區段圖像|僅使用第一張圖像|
|**最終幀**|可以明確指定|僅自動生成|
|**Image影響度**|1.0～100.0%|100.0～102.0%|
|**適用場景**|當您想控制精確動作時|當您想生成自然不可預測的動作時|
|**自定義性**|高（對每個區段進行詳細控制）|低（指定整體氛圍）|
|**學習曲線**|較高（需要理解多個參數）|低（操作簡單）|

## 標準版的使用方法

### 1. 啟動方式

要使用標準版，請執行以下批處理文件之一：

- 日文版: `run_endframe_ichi.bat`
- 英文版: `run_endframe_ichi_en.bat`
- 中文版: `run_endframe_ichi_zh-tw.bat`
- 俄文版: `run_endframe_ichi_ru.bat`

### 2. 基本使用方法

1. **選擇視頻模式**:
   - 從右上角的「視頻模式」下拉菜單中選擇所需的秒數模式
   - 標準版可用模式：1-20秒、30秒、40秒 ※v1.9.3擴展
   - 模式決定了區段數量（例如：「4秒」為4個區段）

2. **設置關鍵幀圖像**:
   - 選擇「0」到「區段數-1」的標籤來為每個區段設置圖像
   - 點擊「Image」按鈕上傳圖像（或使用「Clipboard」從剪貼板粘貼）
   - 查看紅色/藍色框架以了解圖像作為關鍵幀的角色（指示複製到偶數/奇數區段）

3. **最終幀（可選）**:
   - 選擇「Final」標籤
   - 點擊「Image」按鈕上傳最終幀圖像（或從剪貼板粘貼）

4. **設置提示詞**:
   - 您可以為每個區段設置提示詞（區段標籤下的文本框）
   - 在「Base」標籤中設置所有區段共用的基礎提示詞
   - 使用「負面提示詞」排除不需要的元素

5. **詳細設置**:
   - 「EndFrame影響度」: 調整最終幀的影響力（0.01至1.00）
   - 「關鍵幀複製」: 打開/關閉自動複製功能
   - 「Seed」: 設置隨機種子值（-1為隨機）

6. **LoRA設置（可選）**:
   - 應用LoRA模型調整表現
   - 在「path1:」下輸入.safetensors文件的路徑
   - 在「weight1:」中設置0.0至1.0之間的權重
   - **預設管理器 ※v1.9.3新功能**:
     - 保存和管理最多5個預設
     - 從UI輕鬆切換預設
     - 批量保存LoRA文件、強度和其他設置

7. **視頻生成**:
   - 完成所有設置後點擊「Start」按鈕
   - 生成過程完成後，視頻將保存到輸出文件夾並自動播放

### 3. 高級使用方法

#### 批量區段信息添加功能

- 您可以使用zip文件一次性設置多個區段信息
- zip文件結構:
  ```
  zipname.zip
  ├── anydir/ （僅允許一個文件夾層級或無文件夾）
  │ ├── sections.yaml （必需）
  │ ├── start.png （起始幀，可選。文件名必須以"start*"開頭）
  │ ├── end.png （最終幀，可選。文件名必須以"end*"開頭）
  │ ├── 000.png （區段0圖像。文件名必須以3位數字開頭）
  │ ├── 001.png （區段1圖像。文件名必須以3位數字開頭）
  ```
- sections.yaml格式:
  ```yaml
  section_info:
    - section: 0
      prompt: "角色伸出手"
    - section: 1
      prompt: "角色轉向我們"
  ```
- 上傳後，區段圖像和提示詞將自動設置

#### 利用關鍵幀複製功能

- 當「關鍵幀複製」開啟時，區段0（紅框）的圖像會複製到所有偶數區段（0, 2, 4...），區段1（藍框）的圖像會複製到所有奇數區段（1, 3, 5...）
- 這允許您通過最少的圖像設置高效生成視頻
- 對於長視頻模式（10秒以上）特別有效

#### 區段專屬提示詞設置

- 每個區段的提示詞決定了該區段的特性
- 由於它與基礎提示詞結合使用，僅描述區段特有的特徵即可
- 包含表示動作變化的詞語（例如「走路」→「跳躍」→「坐下」）效果顯著

#### 調整EndFrame影響度

- 高值（接近1.00）: 對最終幀的收斂強烈，趨向於產生線性動作
- 低值（接近0.01）: 對最終幀的收斂較弱，趨向於產生更自由的動作
- 對於自然動作，建議使用0.1至0.3左右的值

## F1版的使用方法

### 1. 啟動方式

要使用F1版，請執行以下批處理文件之一：

- 日文版: `run_endframe_ichi_f1.bat`
- 英文版: `run_endframe_ichi_en_f1.bat`
- 中文版: `run_endframe_ichi_zh-tw_f1.bat`
- 俄文版: `run_endframe_ichi_f1_ru.bat`

### 2. 基本使用方法

1. **選擇視頻模式**:
   - 從右上角的「視頻模式」下拉菜單中選擇所需的秒數模式
   - F1版可用模式：1-20秒、30秒、40秒、60秒、120秒 ※v1.9.3擴展
   - F1版僅使用第一張圖像作為區段圖像

2. **設置初始圖像**:
   - 點擊「Image」按鈕上傳圖像（或使用「Clipboard」從剪貼板粘貼）
   - 此圖像將成為視頻的第一幀，後續幀將自動生成

3. **設置提示詞**:
   - 在「Base」標籤中設置提示詞（F1版僅使用此提示詞）
   - 使用「負面提示詞」排除不需要的元素

4. **詳細設置**:
   - 「Image影響度」: 調整初始圖像的影響力（100.0至102.0%）
   - 「Seed」: 設置隨機種子值（-1為隨機）

5. **LoRA設置（可選）**:
   - 應用LoRA模型調整表現
   - 在「path1:」下輸入.safetensors文件的路徑
   - 在「weight1:」中設置0.0至1.0之間的權重
   - **預設管理器 ※v1.9.3新功能**:
     - 保存和管理最多5個預設
     - 從UI輕鬆切換預設
     - 批量保存LoRA文件、強度和其他設置

6. **視頻生成**:
   - 完成所有設置後點擊「Start」按鈕
   - 生成過程完成後，視頻將保存到輸出文件夾並自動播放

### 3. F1版技巧

#### 適當調整Image影響度

- **100.0%**: 生成非常忠實於初始圖像的視頻。角色和構圖變化不大，提供最大穩定性。
- **100.5%**: 平衡的設置，兼具一定變化和穩定性。
- **101.0至102.0%**: 產生更大膽的動作和變化，但可能偏離初始圖像。

#### 通過提示詞引導動作

- 使用動詞和動作詞來引導特定動作
  - 例如: "walking", "running", "jumping", "dancing"等
- 不僅可以指定角色動作，還可以指定鏡頭工作
  - 例如: "zoom in", "pan left", "closeup"等

#### 了解F1版特性

- 新的F1版是"FramePack_F1_I2V_HY_20250503"，專注於正向生成的模型
- 與標準版不同，您無法指定精細動作，但可以產生更自然且不可預測的動作
- 有效的使用方式是通過提示詞指定大致方向，將細節交給AI處理

## oichi版（單幀版）的使用方法

### 1. 概述

oichi版是從單一圖像生成下一幀的特殊版本。它專注於預測一幀，而不是生成整個視頻，實現更輕量更快速的處理。在v1.9.3中，新增了kisekaeichi功能。

### 2. 啟動方式

要使用oichi版，請執行以下批處理文件之一：

- 日文版: `run_oneframe_ichi.bat`
- 英文版: `run_oneframe_ichi_en.bat`
- 中文版: `run_oneframe_ichi_zh-tw.bat`
- 俄文版: `run_oneframe_ichi_ru.bat`

### 3. 基本使用方法

1. **圖像設置**:
   - 上傳單一圖像
   - 從此圖像生成下一幀

2. **提示詞設置**:
   - 描述您想要生成的下一幀內容
   - 詳細指定動作或變化

3. **kisekaeichi功能 ※v1.9.3新功能**:
   - furusu構思、Kohya實現的使用參考圖像的技術
   - 使用目標索引和歷史索引進行精確控制
   - 僅更改特定區域的遮罩功能
   - 用於應用不同服裝或風格時使用

4. **執行生成**:
   - 點擊「Generate」按鈕
   - 生成下一幀

### 4. kisekaeichi功能詳情

- **參考圖像設置**: 設置您想要更改的風格或服裝的參考圖像
- **遮罩功能**: 指定要更改的區域（可進行整體或部分更改）
- **強度調整**: 調整參考圖像的影響度
- **注意事項**: 作為實驗性功能，結果高度依賴於輸入圖像和參考圖像

## 各設置項目的詳細說明

### 共通設置

#### 提示詞相關
- **提示詞**: 指定生成視頻內容的文本。詳細描述您想要的元素和特徵。
- **負面提示詞**: 指定要避免的元素的文本。包含"low quality", "blurry"等術語可提高質量。

#### 技術設置
- **Seed**: 隨機種子值。使用相同的值會產生相似的結果。使用"-1"表示隨機。
- **FP8優化**: 在應用LoRA時減少VRAM使用量的選項。在RTX 40系列GPU上特別有效。
- **縮放處理**: 指定如何調整視頻分辨率。
- **輸出文件夾**: 生成文件的保存目的地。
- **MP4質量**: 設置視頻壓縮率（0-100，數值越低質量越高，數值越高體積越小）。

#### LoRA設置
- **LoRA路徑**: 要使用的LoRA模型的文件路徑。
- **LoRA權重**: 每個LoRA模型的影響度（0.0至1.0）。

### 標準版特有設置

- **關鍵幀複製**: 開啟時，按特定模式自動複製圖像。
- **EndFrame影響度**: 調整最終幀的影響力（0.01至1.00）。
- **區段標籤 (0, 1, 2...)**: 每個關鍵幀的設置界面。
- **Final標籤**: 最終幀的設置界面。

### F1版特有設置

- **Image影響度**: 初始圖像的影響力（100.0至102.0%）
  - 100.0%: 非常忠實於初始圖像
  - 100.5%: 平衡的變化
  - 101.0至102.0%: 更大膽的變化和動作

## 故障排除

### 常見問題

#### 生成黑屏
- **原因**: GPU VRAM不足，批處理大小或進程衝突
- **解決方案**:
  - 終止其他GPU進程
  - 開啟FP8優化
  - 將MP4質量值設為約16
  - 使用較小的視頻模式（1秒、2秒等）

#### 錯誤: CUDA out of memory
- **原因**: GPU VRAM不足
- **解決方案**:
  - 開啟FP8優化
  - 使用較小的視頻模式
  - 終止其他GPU進程
  - 使用較低分辨率的圖像

#### 提示詞未正確反映
- **原因**: 提示詞優先級或表達不明確
- **解決方案**:
  - 將重要元素放在開頭
  - 使用括號或強調語法（例如，(important element)）
  - 使用更具體的詞語
  - 對於標準版，檢查區段專屬提示詞和基礎提示詞的組合

### 標準版特有問題

#### 區段間變化不自然
- **原因**: 關鍵幀之間的差距過大
- **解決方案**:
  - 使用具有更相似特徵的關鍵幀圖像
  - 將變化逐漸分散到多個區段
  - 調整EndFrame影響度

#### 關鍵幀被忽略
- **原因**: Image影響度過低
- **解決方案**:
  - 增加Image影響度（建議50%以上）
  - 在提示詞中強調關鍵幀特徵

### F1版特有問題

#### 與初始圖像偏差過大
- **原因**: Image影響度過高
- **解決方案**:
  - 降低Image影響度（建議100.0至100.5%）
  - 在提示詞中更具體地描述

#### 動作少/單調
- **原因**: 提示詞中缺乏表示動作的表達
- **解決方案**:
  - 添加動詞和動作詞
  - 增加Image影響度（101.0至102.0%）
  - 選擇較長的視頻模式